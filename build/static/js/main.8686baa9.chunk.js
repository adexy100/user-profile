(this["webpackJsonpreact-firebase-authentication"]=this["webpackJsonpreact-firebase-authentication"]||[]).push([[0],{189:function(e,t,n){e.exports=n(350)},194:function(e,t,n){},350:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(14),o=n.n(i);n(194),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s=r.a.createContext(null),l=n(15),u=n(18),c=n(20),m=n(19),d=r.a.createContext(null),p=function(e){return function(t){return r.a.createElement(d.Consumer,null,(function(n){return r.a.createElement(e,Object.assign({},t,{firebase:n}))}))}},h=d,f=n(38),E=n(59),g=n.n(E),b=(n(195),n(197),{apiKey:"AIzaSyAD5R8Wn-RKGNq8ExZfS-8adyIoWYPCPD0",authDomain:"user-login-30e9d.firebaseapp.com",databaseURL:"https://user-login-30e9d.firebaseio.com",projectId:"user-login-30e9d",storageBucket:"user-login-30e9d.appspot.com",messagingSenderId:"120838559628",appId:"1:120838559628:web:cb3b9b3f5d66b8806028a9",measurementId:"G-R2KQZP0HT5"}),v=function e(){var t=this;Object(l.a)(this,e),this.doCreateUserWithEmailAndPassword=function(e,n){return t.auth.createUserWithEmailAndPassword(e,n)},this.doSignInWithEmailAndPassword=function(e,n){return t.auth.signInWithEmailAndPassword(e,n)},this.doSignInWithGoogle=function(){return t.auth.signInWithPopup(t.googleProvider)},this.doSignInWithFacebook=function(){return t.auth.signInWithPopup(t.facebookProvider)},this.doSignInWithTwitter=function(){return t.auth.signInWithPopup(t.twitterProvider)},this.doSignOut=function(){return t.auth.signOut()},this.doPasswordReset=function(e){return t.auth.sendPasswordResetEmail(e)},this.doSendEmailVerification=function(){return t.auth.currentUser.sendEmailVerification({url:"https://profile-user.netlify.app"})},this.doPasswordUpdate=function(e){return t.auth.currentUser.updatePassword(e)},this.onAuthUserListener=function(e,n){return t.auth.onAuthStateChanged((function(a){a?t.user(a.uid).once("value").then((function(t){var n=t.val();n.roles||(n.roles={}),a=Object(f.a)({uid:a.uid,email:a.email,emailVerified:a.emailVerified,providerData:a.providerData},n),e(a)})):n()}))},this.user=function(e){return t.db.ref("users/".concat(e))},this.users=function(){return t.db.ref("users")},this.message=function(e){return t.db.ref("messages/".concat(e))},this.messages=function(){return t.db.ref("messages")},g.a.initializeApp(b),this.serverValue=g.a.database.ServerValue,this.emailAuthProvider=g.a.auth.EmailAuthProvider,this.auth=g.a.auth(),this.db=g.a.database(),this.googleProvider=new g.a.auth.GoogleAuthProvider,this.facebookProvider=new g.a.auth.FacebookAuthProvider,this.twitterProvider=new g.a.auth.TwitterAuthProvider},y=function(e){var t=function(t){Object(c.a)(a,t);var n=Object(m.a)(a);function a(e){var t;return Object(l.a)(this,a),(t=n.call(this,e)).state={authUser:JSON.parse(localStorage.getItem("authUser"))},t}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.listener=this.props.firebase.onAuthUserListener((function(t){localStorage.setItem("authUser",JSON.stringify(t)),e.setState({authUser:t})}),(function(){localStorage.removeItem("authUser"),e.setState({authUser:null})}))}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"render",value:function(){return r.a.createElement(s.Provider,{value:this.state.authUser},r.a.createElement(e,this.props))}}]),a}(r.a.Component);return p(t)},w=n(28),S=n(37),O=function(e){return function(t){var n=function(n){Object(c.a)(i,n);var a=Object(m.a)(i);function i(){return Object(l.a)(this,i),a.apply(this,arguments)}return Object(u.a)(i,[{key:"componentDidMount",value:function(){var t=this;this.listener=this.props.firebase.onAuthUserListener((function(n){e(n)||t.props.history.push("/signup")}),(function(){return t.props.history.push("/signin")}))}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"render",value:function(){var n=this;return r.a.createElement(s.Consumer,null,(function(a){return e(a)?r.a.createElement(t,n.props):null}))}}]),i}(r.a.Component);return Object(S.a)(w.e,p)(n)}},j=function(e){var t=function(t){Object(c.a)(a,t);var n=Object(m.a)(a);function a(e){var t;return Object(l.a)(this,a),(t=n.call(this,e)).onSendEmailVerification=function(){t.props.firebase.doSendEmailVerification().then((function(){return t.setState({isSent:!0})}))},t.state={isSent:!1},t}return Object(u.a)(a,[{key:"render",value:function(){var t=this;return r.a.createElement(s.Consumer,null,(function(n){return function(e){return e&&!e.emailVerified&&e.providerData.map((function(e){return e.providerId})).includes("password")}(n)?r.a.createElement("div",null,t.state.isSent?r.a.createElement("p",null,"E-Mail confirmation sent: Check your E-Mails (Spam folder included) for a confirmation E-Mail. Refresh this page once you confirmed your E-Mail."):r.a.createElement("p",null,"Verify your E-Mail: Check your E-Mails (Spam folder included) for a confirmation E-Mail or send another confirmation E-Mail."),r.a.createElement("button",{type:"button",onClick:t.onSendEmailVerification,disabled:t.state.isSent},"Send confirmation E-Mail")):r.a.createElement(e,t.props)}))}}]),a}(r.a.Component);return p(t)},k=n(31),I=n(357),M=n(84),C=n(50),P=n(139),U=p((function(e){var t=e.firebase;return r.a.createElement(P.a,{type:"primary",onClick:t.doSignOut},"Sign Out")})),x=function(e){var t=e.authUser;return r.a.createElement("div",null,r.a.createElement(P.a,{type:"link"},r.a.createElement(k.c,{to:"/home"},"Home")),r.a.createElement(P.a,{type:"link"},r.a.createElement(k.c,{to:"/account"},"Account")),!!t.roles.ADMIN&&r.a.createElement(P.a,{type:"link"},r.a.createElement(k.c,{to:"/admin"},"Admin")),r.a.createElement(U,null))},T=function(){return r.a.createElement("div",null,r.a.createElement(P.a,{type:"primary"},r.a.createElement(k.c,{to:"/signin"},"sign In")))},A=function(){return r.a.createElement(I.a.Header,null,r.a.createElement(M.a,null,r.a.createElement(C.a,null,r.a.createElement(k.c,{to:"/"},r.a.createElement("img",{src:"favicon.ico",alt:"",style:{height:"30%"}})),r.a.createElement(P.a,{type:"link"},r.a.createElement(k.c,{to:"/"},"Main"))),r.a.createElement(C.a,null,r.a.createElement(s.Consumer,null,(function(e){return e?r.a.createElement(x,{authUser:e}):r.a.createElement(T,null)})))))},L=n(351),D=n(358),W=n(361),F=function(){return r.a.createElement(L.a,{bordered:!1},r.a.createElement(M.a,{justify:"center"},r.a.createElement(D.a,{icon:r.a.createElement(W.a,null),title:"This is Main home page "})))},R=n(354),N=n(355),V=n(360),q=n(359),B=n(362),z=n(363),G="\n  An account with an E-Mail address to\n  this social account already exists. Try to login from\n  this account instead and associate your social accounts on\n  your personal account page.\n",H=function(e){Object(c.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).onSubmit=function(e){a.props.firebase.doSignInWithGoogle().then((function(e){return a.props.firebase.user(e.user.uid).set({username:e.user.displayName,email:e.user.email,roles:{}})})).then((function(){a.setState({error:null}),a.props.history.push("/home")})).catch((function(e){"auth/account-exists-with-different-credential"===e.code&&(e.message=G),a.setState({error:e})})),e.preventDefault()},a.state={error:null},a}return Object(u.a)(n,[{key:"render",value:function(){var e=this.state.error;return r.a.createElement("form",{onSubmit:this.onSubmit,style:{paddingLeft:"5%"}},r.a.createElement("button",{type:"submit"},"Sign In with Google"),e&&r.a.createElement("p",null,e.message))}}]),n}(a.Component),J=function(e){Object(c.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).onSubmit=function(e){a.props.firebase.doSignInWithFacebook().then((function(e){return a.props.firebase.user(e.user.uid).set({username:e.additionalUserInfo.profile.name,email:e.additionalUserInfo.profile.email,roles:{}})})).then((function(){a.setState({error:null}),a.props.history.push("/home")})).catch((function(e){"auth/account-exists-with-different-credential"===e.code&&(e.message=G),a.setState({error:e})})),e.preventDefault()},a.state={error:null},a}return Object(u.a)(n,[{key:"render",value:function(){var e=this.state.error;return r.a.createElement("form",{onSubmit:this.onSubmit,style:{paddingLeft:"5%"}},r.a.createElement("br",null),r.a.createElement("button",{type:"submit"},"Sign In with Facebook"),e&&r.a.createElement("p",null,e.message))}}]),n}(a.Component),K=function(e){Object(c.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).onSubmit=function(e){a.props.firebase.doSignInWithTwitter().then((function(e){return a.props.firebase.user(e.user.uid).set({username:e.additionalUserInfo.profile.name,email:e.additionalUserInfo.profile.email,roles:{}})})).then((function(){a.setState({error:null}),a.props.history.push("/home")})).catch((function(e){"auth/account-exists-with-different-credential"===e.code&&(e.message=G),a.setState({error:e})})),e.preventDefault()},a.state={error:null},a}return Object(u.a)(n,[{key:"render",value:function(){var e=this.state.error;return r.a.createElement("form",{onSubmit:this.onSubmit,style:{paddingLeft:"5%"}},r.a.createElement("br",null),r.a.createElement("button",{type:"submit"},"Sign In with Twitter"),e&&r.a.createElement("p",null,e.message))}}]),n}(a.Component),Y=Object(S.a)(w.e,p)(H),Z=Object(S.a)(w.e,p)(J),Q=Object(S.a)(w.e,p)(K),$=function(e){Object(c.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).handleFinish=function(e){var t=e.email,n=e.password;a.props.firebase.doSignInWithEmailAndPassword(t,n).then((function(){a.props.history.push("/home")})).catch((function(e){console.log(e),a.setState({error:e.code})}))},a.state={error:""},a}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement(L.a,{style:{paddingLeft:"5%"}},r.a.createElement(M.a,{style:{paddingBottom:"1%"}},r.a.createElement(R.a.Text,{underline:!0,strong:!0,style:{fontSize:"22px"}},"Sign In")),r.a.createElement(M.a,null,r.a.createElement(N.a,{onFinish:this.handleFinish},""!==this.state.error?r.a.createElement(N.a.Item,null,r.a.createElement(V.a,{message:this.state.error,type:"error",showIcon:!0})):null,r.a.createElement(N.a.Item,{name:"email",rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}]},r.a.createElement(q.a,{prefix:r.a.createElement(B.a,null),placeholder:"E-mail"})),r.a.createElement(N.a.Item,{name:"password",rules:[{required:!0,message:"Please input your password!"},{min:6,message:"At least has 6 letters."}]},r.a.createElement(q.a.Password,{prefix:r.a.createElement(z.a,null),placeholder:"Password"})),r.a.createElement(N.a.Item,null,r.a.createElement(k.b,{style:{float:"left"},to:"/forgotpassword"},"Forgot password?")),r.a.createElement(N.a.Item,null,r.a.createElement(P.a,{type:"primary",htmlType:"submit",style:{width:"100%"}},"Sign In"),"or\xa0",r.a.createElement(k.b,{to:"/signup"},"Don't have an account? Sign Up")))))}}]),n}(a.Component),X=Object(S.a)(w.e,p)($),_=p((function(){return r.a.createElement("div",null,r.a.createElement(X,null),r.a.createElement(Y,null),r.a.createElement(Z,null),r.a.createElement(Q,null))})),ee=n(353),te=n(364),ne=function(e){Object(c.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).handleFinish=function(e){var t=e.username,n=e.email,r=e.password,i=e.isAdmin,o={};void 0!==i&&(o.ADMIN="ADMIN"),a.props.firebase.doCreateUserWithEmailAndPassword(n,r).then((function(e){return a.props.firebase.user(e.user.uid).set({username:t,email:n,roles:o})})).then((function(){return a.props.firebase.doSendEmailVerification()})).then((function(){return a.props.history.push("/home")})).catch((function(e){console.log(e),a.setState({error:e.code})}))},a.state={error:""},a}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement(L.a,{style:{paddingLeft:"5%"}},r.a.createElement(M.a,{style:{paddingBottom:"1%"}},r.a.createElement(R.a.Text,{underline:!0,strong:!0,style:{fontSize:"22px"}},"Sign Up")),r.a.createElement(M.a,null,r.a.createElement(N.a,{onFinish:this.handleFinish},""!==this.state.error?r.a.createElement(N.a.Item,null,r.a.createElement(V.a,{message:this.state.error,type:"error",showIcon:!0})):null,r.a.createElement(N.a.Item,{name:"username",rules:[{required:!0,message:"Please input your Username!"}]},r.a.createElement(q.a,{prefix:r.a.createElement(te.a,null),placeholder:"Username"})),r.a.createElement(N.a.Item,{name:"email",rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}]},r.a.createElement(q.a,{prefix:r.a.createElement(B.a,null),placeholder:"E-mail"})),r.a.createElement(N.a.Item,{name:"password",rules:[{required:!0,message:"Please input your password!"},{min:6,message:"At least has 6 letters."}],hasFeedback:!0},r.a.createElement(q.a.Password,{prefix:r.a.createElement(z.a,null),placeholder:"Password"})),r.a.createElement(N.a.Item,{name:"confirm",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"Please confirm your password!"},{min:6,message:"At least has 6 letters."},function(e){var t=e.getFieldValue;return{validator:function(e,n){return n&&t("password")!==n?Promise.reject("The two passwords that you entered do not match!"):Promise.resolve()}}}]},r.a.createElement(q.a.Password,{prefix:r.a.createElement(z.a,null),placeholder:"Confirm password"})),r.a.createElement(N.a.Item,{name:"isAdmin",valuePropName:"checked"},r.a.createElement(ee.a,null,"Admin")),r.a.createElement(N.a.Item,null,r.a.createElement(k.b,{style:{float:"left"},to:"/forgotpassword"},"Forgot password?")),r.a.createElement(N.a.Item,null,r.a.createElement(P.a,{type:"primary",htmlType:"submit",style:{width:"100%"}},"Register")))))}}]),n}(a.Component),ae=Object(S.a)(w.e,p)(ne),re=function(){return r.a.createElement("div",null,r.a.createElement(ae,null))},ie=n(365),oe=n(188),se=function(e){Object(c.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).onToggleEditMode=function(){a.setState((function(e){return{editMode:!e.editMode,editText:a.props.message.text}}))},a.onChangeEditText=function(e){a.setState({editText:e.target.value})},a.onSaveEditText=function(){a.props.onEditMessage(a.props.message,a.state.editText),a.setState({editMode:!1})},a.state={editMode:!1,editText:a.props.message.text},a}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.authUser,n=e.message,a=e.onRemoveMessage,i=this.state,o=i.editMode,s=i.editText;return r.a.createElement("li",null,o?r.a.createElement("input",{type:"text",value:s,onChange:this.onChangeEditText}):r.a.createElement("span",null,r.a.createElement("strong",null,n.userId)," ",n.text,n.editedAt&&r.a.createElement("span",null,"(Edited)")),t.uid===n.userId&&r.a.createElement("span",null,o?r.a.createElement("span",null,r.a.createElement("button",{onClick:this.onSaveEditText},"Save"),r.a.createElement("button",{onClick:this.onToggleEditMode},"Reset")):r.a.createElement("button",{onClick:this.onToggleEditMode},"Edit"),!o&&r.a.createElement("button",{type:"button",onClick:function(){return a(n.uid)}},"Delete")))}}]),n}(a.Component),le=function(e){var t=e.authUser,n=e.messages,a=e.onEditMessage,i=e.onRemoveMessage;return r.a.createElement("ul",null,n.map((function(e){return r.a.createElement(se,{authUser:t,key:e.uid,message:e,onEditMessage:a,onRemoveMessage:i})})))},ue=function(e){Object(c.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).onListenForMessages=function(){a.setState({loading:!0}),a.props.firebase.messages().orderByChild("createdAt").limitToLast(a.state.limit).on("value",(function(e){var t=e.val();if(t){var n=Object.keys(t).map((function(e){return Object(f.a)(Object(f.a)({},t[e]),{},{uid:e})}));a.setState({messages:n,loading:!1})}else a.setState({messages:null,loading:!1})}))},a.onChangeText=function(e){a.setState({text:e.target.value})},a.onCreateMessage=function(e,t){a.props.firebase.messages().push({text:a.state.text,userId:t.uid,createdAt:a.props.firebase.serverValue.TIMESTAMP}),a.setState({text:""}),e.preventDefault()},a.onEditMessage=function(e,t){e.uid;var n=Object(oe.a)(e,["uid"]);a.props.firebase.message(e.uid).set(Object(f.a)(Object(f.a)({},n),{},{text:t,editedAt:a.props.firebase.serverValue.TIMESTAMP}))},a.onRemoveMessage=function(e){a.props.firebase.message(e).remove()},a.onNextPage=function(){a.setState((function(e){return{limit:e.limit+5}}),a.onListenForMessages)},a.state={text:"",loading:!1,messages:[],limit:5},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.onListenForMessages()}},{key:"componentWillUnmount",value:function(){this.props.firebase.messages().off()}},{key:"render",value:function(){var e=this,t=this.state,n=t.text,a=t.messages,i=t.loading;return r.a.createElement(s.Consumer,null,(function(t){return r.a.createElement("div",null,!i&&a&&r.a.createElement("button",{type:"button",onClick:e.onNextPage},"More"),i&&r.a.createElement("div",null,"Loading ..."),a&&r.a.createElement(le,{authUser:t,messages:a,onEditMessage:e.onEditMessage,onRemoveMessage:e.onRemoveMessage}),!a&&r.a.createElement("div",null,"There are no messages ..."),r.a.createElement("form",{onSubmit:function(n){return e.onCreateMessage(n,t)}},r.a.createElement("input",{type:"text",value:n,onChange:e.onChangeText}),r.a.createElement("button",{type:"submit"},"Send")))}))}}]),n}(a.Component),ce=p(ue),me=Object(S.a)(j,O((function(e){return!!e})))((function(){return r.a.createElement("div",null,r.a.createElement(L.a,{bordered:!1},r.a.createElement(M.a,{justify:"center"},r.a.createElement(D.a,{icon:r.a.createElement(ie.a,null),title:"The Home Page is accessible by every signed in user."}))),r.a.createElement(ce,null))})),de=n(352),pe=n(356),he=function(e){Object(c.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={users:[],loading:!1},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.props.firebase.users().on("value",(function(t){var n=t.val(),a=Object.keys(n).map((function(e){return Object(f.a)(Object(f.a)({},n[e]),{},{uid:e})}));e.setState({users:a,loading:!1})}))}},{key:"componentWillUnmount",value:function(){this.props.firebase.users().off()}},{key:"render",value:function(){var e=this;return r.a.createElement(L.a,null,r.a.createElement(M.a,{justify:"center"},r.a.createElement("h2",null,"UserList")),r.a.createElement(de.b,{itemLayout:"horizontal",dataSource:this.state.users,renderItem:function(t){return r.a.createElement(M.a,{justify:"center"},r.a.createElement(C.a,{span:10},r.a.createElement(pe.a,{loading:e.state.loading,active:!0},r.a.createElement(de.b.Item,{actions:[r.a.createElement(k.b,{to:{pathname:"admin/".concat(t.uid),state:{item:t}}},"Details")]},r.a.createElement(de.b.Item.Meta,{title:t.username,description:t.email}),r.a.createElement("div",null,t.roles&&r.a.createElement(R.a.Text,{keyboard:!0},"Admin"))))))}}))}}]),n}(a.Component),fe=p(he),Ee=O((function(e){return e&&!!e.roles.ADMIN}))((function(){return r.a.createElement(L.a,{bordered:!1},r.a.createElement(M.a,{justify:"center"},r.a.createElement(D.a,{icon:r.a.createElement(te.a,null),title:"The Admin Page is accessible by every signed in admin user."})),r.a.createElement(fe,null))})),ge=function(e){Object(c.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state=Object(f.a)({user:null,loading:!1},e.props.location.state),e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.state.user||(this.setState({loading:!0}),this.props.firebase.user(this.props.match.params.id).on("value",(function(t){e.setState({user:t.val(),loading:!1})})))}},{key:"componentWillUnmount",value:function(){this.props.firebase.user(this.props.match.params.id).off()}},{key:"render",value:function(){return r.a.createElement(L.a,null,r.a.createElement(M.a,null,r.a.createElement("h2",null,r.a.createElement("strong",null,"User:")," ",this.state.item.username)),r.a.createElement(M.a,null,r.a.createElement("h2",null,r.a.createElement("strong",null,"Email:")," ",this.state.item.email)),r.a.createElement(M.a,null,r.a.createElement("h2",null,r.a.createElement("strong",null,"Uid:")," ",this.state.item.uid)),r.a.createElement(M.a,null,r.a.createElement("h2",null,r.a.createElement("strong",null,"Admin:"),this.state.item.roles?r.a.createElement("div",null,"Yes"):r.a.createElement("div",null,"No"))))}}]),n}(a.Component),be=p(ge),ve=n(77),ye=function(e){Object(c.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).handleFinish=function(e){a.props.firebase.doPasswordRest(e.email).then((function(){a.props.history.push("/changepassword")})).catch((function(e){return a.setState({error:e})}))},a.state={error:""},a}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement(L.a,{style:{paddingLeft:"5%"}},r.a.createElement(M.a,{style:{paddingBottom:"1%"}},r.a.createElement(R.a.Text,{underline:!0,strong:!0,style:{fontSize:"22px"}},"Forgot Password")),r.a.createElement(M.a,null,r.a.createElement(N.a,{onFinish:this.handleFinish},""!==this.state.error?r.a.createElement(N.a.Item,null,r.a.createElement(V.a,{message:this.state.error,type:"error",showIcon:!0})):null,r.a.createElement(N.a.Item,{name:"email",rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}]},r.a.createElement(q.a,{prefix:r.a.createElement(B.a,null),placeholder:"E-mail"})),r.a.createElement(N.a.Item,null,r.a.createElement(P.a,{type:"primary",htmlType:"submit"},"Resest My password")))))}}]),n}(a.Component),we=function(){return r.a.createElement("div",null,r.a.createElement(Se,null))},Se=p(ye),Oe={passwordOne:"",passwordTwo:"",error:null},je=function(e){Object(c.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).onSubmit=function(e){var t=a.state.passwordOne;a.props.firebase.doPasswordUpdate(t).then((function(){a.props.history.push("/home")})).catch((function(e){a.setState({error:e})})),e.preventDefault()},a.onChange=function(e){a.setState(Object(ve.a)({},e.target.name,e.target.value))},a.state=Object(f.a)({},Oe),a}return Object(u.a)(n,[{key:"render",value:function(){var e=this.state,t=e.passwordOne,n=e.passwordTwo,a=e.error,i=t!==n||""===t;return r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("input",{name:"passwordOne",value:t,onChange:this.onChange,type:"password",placeholder:"New Password"}),r.a.createElement("input",{name:"passwordTwo",value:n,onChange:this.onChange,type:"password",placeholder:"Confirm New Password"}),r.a.createElement("button",{disabled:i,type:"submit"},"Reset My Password"),a&&r.a.createElement("p",null,a.message))}}]),n}(a.Component),ke=p(je),Ie=[{id:"password",provider:null},{id:"google.com",provider:"googleProvider"},{id:"facebook.com",provider:"facebookProvider"},{id:"twitter.com",provider:"twitterProvider"}],Me=function(e){Object(c.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).fetchSignInMethods=function(){a.props.firebase.auth.fetchSignInMethodsForEmail(a.props.authUser.email).then((function(e){return a.setState({activeSignInMethods:e,error:null})})).catch((function(e){return a.setState({error:e})}))},a.onSocialLoginLink=function(e){a.props.firebase.auth.currentUser.linkWithPopup(a.props.firebase[e]).then(a.fetchSignInMethods).catch((function(e){return a.setState({error:e})}))},a.onDefaultLoginLink=function(e){var t=a.props.firebase.emailAuthProvider.credential(a.props.authUser.email,e);a.props.firebase.auth.currentUser.linkAndRetrieveDataWithCredential(t).then(a.fetchSignInMethods).catch((function(e){return a.setState({error:e})}))},a.onUnlink=function(e){a.props.firebase.auth.currentUser.unlink(e).then(a.fetchSignInMethods).catch((function(e){return a.setState({error:e})}))},a.state={activeSignInMethods:[],error:null},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.fetchSignInMethods()}},{key:"render",value:function(){var e=this,t=this.state,n=t.activeSignInMethods,a=t.error;return r.a.createElement("div",null,"Sign In Methods:",r.a.createElement("ul",null,Ie.map((function(t){var a=1===n.length,i=n.includes(t.id);return r.a.createElement("li",{key:t.id},"password"===t.id?r.a.createElement(Pe,{onlyOneLeft:a,isEnabled:i,signInMethod:t,onLink:e.onDefaultLoginLink,onUnlink:e.onUnlink}):r.a.createElement(Ce,{onlyOneLeft:a,isEnabled:i,signInMethod:t,onLink:e.onSocialLoginLink,onUnlink:e.onUnlink}))}))),a&&a.message)}}]),n}(a.Component),Ce=function(e){var t=e.onlyOneLeft,n=e.isEnabled,a=e.signInMethod,i=e.onLink,o=e.onUnlink;return n?r.a.createElement("button",{type:"button",onClick:function(){return o(a.id)},disabled:t},"Deactivate ",a.id):r.a.createElement("button",{type:"button",onClick:function(){return i(a.provider)}},"Link ",a.id)},Pe=function(e){Object(c.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).onSubmit=function(e){e.preventDefault(),a.props.onLink(a.state.passwordOne),a.setState({passwordOne:"",passwordTwo:""})},a.onChange=function(e){a.setState(Object(ve.a)({},e.target.name,e.target.value))},a.state={passwordOne:"",passwordTwo:""},a}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.onlyOneLeft,n=e.isEnabled,a=e.signInMethod,i=e.onUnlink,o=this.state,s=o.passwordOne,l=o.passwordTwo,u=s!==l||""===s;return n?r.a.createElement("button",{type:"button",onClick:function(){return i(a.id)},disabled:t},"Deactivate ",a.id):r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("input",{name:"passwordOne",value:s,onChange:this.onChange,type:"password",placeholder:"New Password"}),r.a.createElement("input",{name:"passwordTwo",value:l,onChange:this.onChange,type:"password",placeholder:"Confirm New Password"}),r.a.createElement("button",{disabled:u,type:"submit"},"Link ",a.id))}}]),n}(a.Component),Ue=p(Me),xe=Object(S.a)(j,O((function(e){return!!e})))((function(){return r.a.createElement(s.Consumer,null,(function(e){return r.a.createElement("div",null,r.a.createElement("h1",null,"Account: ",e.email),r.a.createElement(Se,null),r.a.createElement(ke,null),r.a.createElement(Ue,{authUser:e}))}))})),Te=y((function(){return r.a.createElement(k.a,null,r.a.createElement("div",null,r.a.createElement(A,null),r.a.createElement(w.a,{exact:!0,path:"/",component:F}),r.a.createElement(w.a,{path:"/Home",component:me}),r.a.createElement(w.a,{path:"/admin",component:Ee}),r.a.createElement(w.a,{path:"/admin/:id",component:be}),r.a.createElement(w.a,{path:"/account",component:xe}),r.a.createElement(w.a,{path:"/signin",component:_}),r.a.createElement(w.a,{path:"/signup",component:re}),r.a.createElement(w.a,{path:"/forgotpassword",component:we}),r.a.createElement(w.a,{path:"/changepassword",component:ke})))}));n(349);o.a.render(r.a.createElement(h.Provider,{value:new v},r.a.createElement(Te,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[189,1,2]]]);
//# sourceMappingURL=main.8686baa9.chunk.js.map